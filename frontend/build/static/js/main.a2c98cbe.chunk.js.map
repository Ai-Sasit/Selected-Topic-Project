{"version":3,"sources":["history.js","apis/streams.js","actions/constants.js","actions/index.js","components/GoogleAuth.js","components/Header.js","components/Footer.js","firebase/config.js","firebase/Uploading.gif","components/pages/addStream.js","components/streamitem.js","components/pages/listStream.js","components/studioitems.js","components/pages/studioStream.js","components/pages/editStream.js","components/pages/searchStream.js","components/pages/playStream.js","App.js","serviceWorker.js","reducers/authReducer.js","reducers/streamReducer.js","reducers/index.js","index.js"],"names":["createBrowserHistory","axios","create","baseURL","createStream","payload","a","streamapi","post","response","patch","data","fetchStreams","dispatch","get","type","ACTIONS","fetchStream","id","connect","state","isSignedIn","auth","signIn","signOut","props","auth2","useState","Auth","setAuth","initAuth","loadAuth2","gapi","process","onAuthChange","listen","useEffect","e","console","warn","message","getProfile","currentUser","getBasicProfile","getId","getName","getEmail","getImageUrl","className","onClick","Header","profile","useSelector","name","img_url","window","location","replace","to","src","Footer","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","AddStream","date_time","moment","format","title","setTitle","img","setImg","imgurl","setImgurl","desc","setDesc","pathimg","setPathimg","bt_create","document","getElementById","in_key","bt_hidden","keys","skey","setskey","userId","userName","checklogin","log","pathname","history","push","ref","put","on","snapshot","bytesTransferred","error","child","getDownloadURL","then","url","accept","onChange","target","files","uploadimg","placeholder","value","required","htmlFor","htmlor","disabled","style","display","alert","streamitem","s","stream","key","ListStream","streams","Object","values","useDispatch","handleRefresh","reload","slice","reverse","map","Studioitems","pop","confirm","img_path","delete","StudioStream","user_id","filters","filter","EditStream","Date","toLocaleString","timeZone","match","params","editStream","SearchStream","keyword","setKeyword","searchlist","setSearchlist","toLowerCase","includes","PlayStream","videoRef","createRef","player","buildPlayer","destroy","flv","isSupported","video_url","createPlayer","attachMediaElement","current","load","controls","streamer","App","path","exact","component","index","search","addform","studio","editform","Boolean","hostname","INITIAL_STATE","combineReducers","action","form","reducer","_","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a2c98cbe.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'; \r\nexport default createBrowserHistory();","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://likestream-42add-default-rtdb.asia-southeast1.firebasedatabase.app/'\r\n})","const CREATE_STREAM = 'CREATE_STREAM';\r\nconst FETCH_STREAMS = 'FETCH_STREAMS';\r\nconst FETCH_STREAM = 'FETCH_STREAM';\r\nconst DELETE_STREAM = 'DELETE_STREAM';\r\nconst EDIT_STREAM = 'EDIT_STREAM';\r\nconst SIGN_IN = 'SIGN_IN';\r\nconst SIGN_OUT = 'SIGN_OUT';\r\n// eslint-disable-next-line\r\nexport default { CREATE_STREAM , FETCH_STREAMS , SIGN_IN , SIGN_OUT , FETCH_STREAM, DELETE_STREAM, EDIT_STREAM }","import streamapi from '../apis/streams';\r\nimport ACTIONS from './constants.js';\r\n\r\nexport const signIn = (payload) => {\r\n  return {\r\n      type: ACTIONS.SIGN_IN,\r\n      payload: payload\r\n  };\r\n}\r\n\r\nexport const signOut = () => {\r\n  return {\r\n      type: ACTIONS.SIGN_OUT\r\n  };\r\n}\r\n\r\nexport const createStream = async (payload) => {\r\n    const response = await streamapi.post('/streams.json', payload);\r\n    await streamapi.patch(`/streams/${response.data[\"name\"]}.json`, {\"key\":response.data[\"name\"]});\r\n    return response.data[\"name\"];\r\n  }\r\n\r\nexport const fetchStreams = () => {\r\n  return async (dispatch) => {\r\n      const response = await streamapi.get('/streams.json');\r\n      dispatch({\r\n          type: ACTIONS.FETCH_STREAMS,\r\n          payload: response.data\r\n      })\r\n  }\r\n}\r\n\r\nexport const fetchStream = (id) => {\r\n  return async (dispatch) => {\r\n      const response = await streamapi.get(`/streams/${id}.json`);\r\n      dispatch({\r\n          type: ACTIONS.FETCH_STREAM,\r\n          payload: response.data\r\n      })\r\n  }\r\n}\r\n\r\nexport const editStream = (id, payload) => {\r\n  return async (dispatch) => {\r\n      const response = await streamapi.patch(`/streams/${id}.json`, payload);\r\n      dispatch({\r\n          type: ACTIONS.EDIT_STREAM,\r\n          payload: response.data\r\n      })\r\n      window.location.replace(\"/studio\");\r\n  }\r\n}\r\nexport const deleteStream = (id) => {\r\n  return async (dispatch) => {\r\n      await streamapi.delete(`/streams/${id}.json`);\r\n      dispatch({\r\n          type: ACTIONS.DELETE_STREAM,\r\n          payload: id\r\n      })\r\n  }\r\n}","import React , {useEffect,useState} from \"react\";\r\nimport { loadAuth2, gapi } from 'gapi-script';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from './../actions';\r\n\r\nfunction GoogleAuth(props) {\r\n\r\n    var auth2 = null;\r\n    const [Auth,setAuth] = useState(\"\");\r\n\r\n    const initAuth = async () => {\r\n        auth2 = await loadAuth2(gapi, process.env.REACT_APP_OAUTH_CLIENT_ID, \"email\")\r\n        setAuth(auth2);\r\n        onAuthChange(auth2.isSignedIn.get());\r\n        auth2.isSignedIn.listen(onAuthChange)\r\n        };\r\n\r\n    useEffect(() => {\r\n        try{\r\n            initAuth();\r\n        }catch(e){\r\n            console.warn(e.message);\r\n        }// eslint-disable-next-line\r\n    }, []);\r\n\r\n    const onAuthChange = (isSignedIn) => {\r\n        if (isSignedIn) {\r\n            let getProfile = auth2.currentUser.get().getBasicProfile();\r\n            let uid = getProfile.getId();\r\n            let name = getProfile.getName();\r\n            let email = getProfile.getEmail();\r\n            let img = getProfile.getImageUrl();\r\n            let payload = {\"userId\": uid ,\"userName\": name ,\"userEmail\": email ,\"userImg\": img};\r\n            props.signIn(payload);\r\n        }\r\n        else {\r\n            props.signOut();\r\n        }\r\n    } \r\n    const onSignInClick = () => { Auth.signIn() }\r\n    const onSignOutClick = () => { Auth.signOut() }\r\n    \r\n    return (props.isSignedIn?\r\n    <button className=\"bt-google sign-out\" onClick={onSignOutClick}>Sign Out</button>\r\n    :\r\n    <button className=\"bt-google sign-in\" onClick={onSignInClick}>Google Sign In</button>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { isSignedIn: state.auth.isSignedIn }\r\n}\r\n\r\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport GoogleAuth from \"./GoogleAuth\";\r\nimport { useSelector} from 'react-redux';\r\n\r\nfunction Header(props) {\r\n\r\n  const profile = useSelector(state => state.auth.profile)\r\n  var name = null;\r\n  var img_url = null;\r\n  try{ \r\n    name = `[ ` + profile[\"userName\"] + ` ]`; \r\n    img_url = profile[\"userImg\"];\r\n  } catch(e) {}\r\n\r\n  const refreshing = () => {\r\n    window.location.replace(\"/\");\r\n  }\r\n\r\n  return (\r\n    <header className=\"bar_header\" id=\"Header\">\r\n      <div className=\"area_header\">\r\n        <div className=\"text_header\" onClick={refreshing}><Link to=\"#\" className=\"link-head\">Like Streaming | Easy Platform for Streamer</Link></div>\r\n        {/* eslint-disable-next-line */}\r\n        <img className=\"profileimg\" src={img_url}/>\r\n        <div className=\"user_name\">{name}</div>\r\n      <GoogleAuth/>\r\n      </div>\r\n      <div className=\"sub-header\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React  from 'react';\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"Footer_area\" id=\"Footer\">\r\n            <p className=\"text_footer\">Software Engineer | Computer Science | UBU</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD_Aq4IM1ZEqB2GUBMSMEVOonaQVn8kSco\",\r\n    authDomain: \"likestream-42add.firebaseapp.com\",\r\n    projectId: \"likestream-42add\",\r\n    storageBucket: \"likestream-42add.appspot.com\",\r\n    messagingSenderId: \"37019108240\",\r\n    appId: \"1:37019108240:web:158319198a70c86c40e915\",\r\n    measurementId: \"G-3ZQ24F4EM5\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst storage = firebase.storage();\r\n\r\nexport {storage, firebase as default};","export default __webpack_public_path__ + \"static/media/Uploading.5a943af3.gif\";","import React , {useState, useEffect} from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector} from 'react-redux';\r\nimport { createStream } from '../../actions';\r\nimport {storage} from '../../firebase/config';\r\nimport uploadimg from '../../firebase/Uploading.gif';\r\n\r\n\r\nfunction AddStream(props) {\r\n    const date_time = moment().format('dddd DD MMMM YYYY HH:mm');\r\n    const [title, setTitle] = useState(null);\r\n    const [img, setImg] = useState(null);\r\n    const [imgurl, setImgurl] = useState(null);\r\n    const [desc, setDesc] = useState(null);\r\n    const [pathimg, setPathimg] = useState(null);\r\n    const bt_create = document.getElementById(\"bt-create\");\r\n    const in_key = document.getElementById(\"in-key\");\r\n    const bt_hidden = document.getElementById(\"bt-hidden\");\r\n    const keys = document.getElementById(\"keys\");\r\n    const [skey,setskey] = useState(null);\r\n    var userId = null;\r\n    var userName = null;\r\n\r\n    const profile = useSelector(state => state.auth.profile)\r\n    const isSignedIn = useSelector(state => state.auth.isSignedIn)\r\n\r\n    try {\r\n      userId = profile[\"userId\"];\r\n      userName = profile[\"userName\"];\r\n    } catch (e) {};\r\n\r\n    const payload = { \r\n      \"title\": title,\r\n      \"desc\": desc,\r\n      \"img_url\": imgurl,\r\n      \"img_path\": pathimg,\r\n      \"userId\": userId, \r\n      \"streamer\": userName,\r\n      \"date_time\":date_time,\r\n      \"video_url\": null,\r\n    };\r\n\r\n    useEffect(() => {\r\n      checklogin()// eslint-disable-next-line\r\n    }, []);\r\n\r\n    const checklogin = () => {\r\n      if (isSignedIn){\r\n          console.log(\"Login\",true,window.location.pathname);\r\n      }else{\r\n          console.log(\"Login\",false,window.location.pathname)\r\n          props.history.push(\"/\");\r\n      }\r\n  }\r\n\r\n    const handleCreate = () => {\r\n      if (imgurl && title && desc) {\r\n        bt_create.style.display = \"none\";\r\n        createStream(payload).then(function(e){\r\n        in_key.style.display=\"block\";\r\n        bt_hidden.style.display=\"flex\";\r\n        keys.value = e;\r\n        setskey(e);\r\n        });\r\n      }else{\r\n        alert(\"Creating Failed | need to add all input form.\");\r\n      }\r\n    };\r\n    \r\n    const handleHome = () => { props.history.push(\"/\"); }\r\n\r\n    const handleUpload = (e) => {\r\n      setImg(e.target.files[0]);\r\n      let pre_img = document.getElementById(\"pre-img\");\r\n      pre_img.src = uploadimg;\r\n    };\r\n\r\n    if (img){\r\n      console.log(img);\r\n      setPathimg(`images/${img.name}`);\r\n      const uploadTask = storage.ref(`images/${img.name}`).put(img);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        snapshot => {console.log(\"Uploading...\", `${snapshot.bytesTransferred} bytes`);},\r\n        error => {console.log(error);},\r\n        () => {\r\n          storage.ref(\"images\").child(img.name).getDownloadURL().then(url => {\r\n              setImgurl(url);\r\n              let pre_img = document.getElementById(\"pre-img\");\r\n              pre_img.src = url;\r\n            })\r\n        }\r\n        )\r\n      setImg(null);\r\n    }else{}\r\n    \r\n      return (\r\n       <div className=\"addboard\" >\r\n           <br/>\r\n           {/* eslint-disable-next-line*/}\r\n           <img className=\"img-upload\" id=\"pre-img\" src=\"https://www.lifewire.com/thmb/P856-0hi4lmA2xinYWyaEpRIckw=/1920x1326/filters:no_upscale():max_bytes(150000):strip_icc()/cloud-upload-a30f385a928e44e199a62210d578375a.jpg\"/>\r\n           <br/>\r\n           <div className=\"req form__group field\">\r\n            <input type=\"file\" className=\"form__field upload-in\" accept=\"image/*\" onChange={handleUpload}/>\r\n            </div>\r\n            <br/>\r\n           <div className=\"req form__group field\">\r\n            <input type=\"input\" className=\"form__field\" placeholder=\"Name\" onChange={(e) => setTitle(e.target.value)} required />\r\n            <label htmlFor=\"name\" className=\"form__label\">Title</label>\r\n            </div>\r\n            <br/>\r\n            <div className=\"req form__group field\">\r\n            <textarea className=\"form__field desc_form\" placeholder=\"Name\" onChange={(e) => setDesc(e.target.value)} required/>\r\n            <label htmlor=\"name\" className=\"form__label\">Description</label>\r\n            </div>\r\n            <br/><br/><br/><br/>\r\n            <div className=\"req form__group field key_form\" id=\"in-key\">\r\n            <input type=\"input\" className=\"form__field1\" placeholder=\"Name\" id=\"keys\" disabled />\r\n            <label htmlFor=\"name\" className=\"form__label\">Stream Key</label>\r\n            </div>\r\n            <div id=\"bt-hidden\"><button className=\"bt-home\" onClick={handleHome}>Home</button>\r\n            <Link to={`/play-stream/${skey}`}><button className=\"bt-live\">Preview</button></Link>\r\n            </div>\r\n            <button className=\"bt-create\" onClick={handleCreate} id=\"bt-create\">Create</button>\r\n            <div className=\"loader\" id=\"loader\"></div>\r\n            <br/>\r\n       </div>\r\n      );\r\n  }\r\n  \r\n  export default AddStream;","import { Link } from \"react-router-dom\";\r\nimport React from 'react';\r\n\r\nfunction streamitem(props) {\r\n  \r\n  const s = props.stream;\r\n    return (\r\n        <Link className={`card`} to={`/play-stream/${s.key}`}>{/* eslint-disable-next-line*/}\r\n          <img src={s.img_url} className=\"card-img\"/>\r\n          <div className=\"card-title\">{s.title}</div>\r\n        </Link>\r\n    ); \r\n}\r\n\r\nexport default streamitem;","import React , {useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch ,useSelector} from 'react-redux';\r\nimport { fetchStreams } from '../../actions';\r\nimport StreamItem from '../streamitem';\r\n\r\nfunction ListStream(props){\r\n    const streams = useSelector(state => Object.values(state.stream))\r\n    const isSignedIn = useSelector(state => state.auth.isSignedIn)\r\n    const dispatch = useDispatch();\r\n    // eslint-disable-next-line\r\n    useEffect(() => {dispatch(fetchStreams()); return () => {};}, []);\r\n    const handleRefresh = () => {window.location.reload();}\r\n    \r\n    return (<div>{isSignedIn? \r\n            <div className=\"console-bar\">\r\n                <Link className=\"link\" to=\"#\"><i className=\"fi-rr-rotate-right\" onClick={handleRefresh}></i></Link>\r\n                <Link className=\"link\" to=\"/create-stream\"><i className=\"fi-rr-add\"></i></Link>\r\n                <Link className=\"link\" to=\"/studio\"><i className=\"fi-rr-pulse\"></i></Link>\r\n                <Link className=\"link\" to=\"/search-stream\"><i className=\"fi-rr-search\"></i></Link>\r\n            </div> : <div className=\"console-bar-so\" >\r\n                <Link className=\"link\" to=\"#\"><i className=\"fi-rr-rotate-right\" onClick={handleRefresh}></i></Link>\r\n                <Link className=\"link\" to=\"/search-stream\"><i className=\"fi-rr-search\"></i></Link>\r\n                </div>}\r\n                <ul className=\"cards\" >\r\n            {streams.slice(0).reverse().map( (s) => <li className=\"zoomincard\" key={s.key} ><StreamItem stream={s} /></li> )}\r\n        </ul>\r\n        </div>\r\n        );\r\n    }\r\n\r\nexport default ListStream;","import { deleteStream } from '../actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport {storage} from '../firebase/config';\r\nimport React from 'react';\r\n\r\nfunction Studioitems(props) {\r\n  \r\n  const s = props.stream;\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDelete = () => {\r\n    if (window.confirm(`Are you sure you want to delete the stream with title: ${s.title}`)) {\r\n      storage.ref(s.img_path).delete();\r\n      dispatch(deleteStream(s.key));\r\n      props.pop.history.push('/studio');\r\n    } else {\r\n      props.pop.history.push('/studio');\r\n    }\r\n  }\r\n\r\n  const handleEdit = () => {\r\n    props.pop.history.push(`/studio/edit/${s.key}`);\r\n  }\r\n\r\n    return (\r\n        <div className={`s-item`}>{/* eslint-disable-next-line*/}\r\n          <img src={s.img_url} className=\"s-img\"/>\r\n          <div className=\"s-title\">{s.title}<br/><span>Description: {s.desc}<br/>Create at {s.date_time}</span></div>\r\n          <div className=\"s-keys\"><span>Stream Key:</span> {s.key}</div>\r\n          <div className=\"s-button\">\r\n            <button className=\"bt-edit\" onClick={handleEdit}>EDIT</button><br/>\r\n            <button className=\"bt-delete\" onClick={handleDelete}>DELETE</button>\r\n          </div>\r\n        </div>\r\n    ); \r\n}\r\n\r\nexport default Studioitems;","import React , {useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchStreams } from '../../actions';\r\nimport StreamItem from '../studioitems';\r\n\r\n\r\nfunction StudioStream(props){\r\n    const isSignedIn = useSelector(state => state.auth.isSignedIn);\r\n    const profile = useSelector(state => state.auth.profile);\r\n    const streams = useSelector(state => Object.values(state.stream));\r\n    const dispatch = useDispatch();\r\n    var user_id = null;\r\n\r\n    try {\r\n        user_id = profile[\"userId\"]\r\n    }catch(e) {}\r\n    \r\n    useEffect(() => {\r\n        dispatch(fetchStreams());   \r\n        checklogin();\r\n        return () => {};// eslint-disable-next-line\r\n    }, []);\r\n\r\n\r\n    const checklogin = () => {\r\n        if (isSignedIn){\r\n            console.log(\"Login\",true,window.location.pathname);\r\n        }else{\r\n            console.log(\"Login\",false,window.location.pathname)\r\n        }\r\n    }\r\n\r\n    const handleRefresh = () => {\r\n        window.location.reload();\r\n    }\r\n\r\n    const filters = streams.filter((s)=>{return s.userId === user_id})\r\n    \r\n    return (<div>\r\n            <div className=\"console-bar\">\r\n                <Link className=\"link\" to=\"#\"><i className=\"fi-rr-rotate-right\" onClick={handleRefresh}></i></Link>\r\n                <Link className=\"link\" to=\"/create-stream\"><i className=\"fi-rr-add\"></i></Link>\r\n                <Link className=\"link\" to=\"/studio\"><i className=\"fi-rr-pulse\"></i></Link>\r\n                <Link className=\"link\" to=\"/search-stream\"><i className=\"fi-rr-search\"></i></Link>\r\n            </div>\r\n                <ul className=\"lists-studio\" >\r\n            {filters.slice(0).reverse().map( (s) => <li className=\"listitems\" key={s.key} ><StreamItem stream={s} pop={props} /></li> )}\r\n        </ul>\r\n        </div>\r\n        );\r\n    }\r\n\r\nexport default StudioStream;","import React , {useState, useEffect} from 'react';\r\nimport { useDispatch ,useSelector} from 'react-redux';\r\nimport { editStream , fetchStream } from '../../actions';\r\nimport {storage} from '../../firebase/config';\r\nimport uploadimg from '../../firebase/Uploading.gif';\r\n\r\n\r\nfunction EditStream(props) {\r\n    const date_time = new Date().toLocaleString(\"th-TH\", {timeZone: \"Asia/Bangkok\"});\r\n    const [title, setTitle] = useState(null);\r\n    const [img, setImg] = useState(null);\r\n    const [imgurl, setImgurl] = useState(null);\r\n    const [desc, setDesc] = useState(null);\r\n    const [pathimg, setPathimg] = useState(null);\r\n    const stream = useSelector(state => state.stream[props.match.params.key]);\r\n    const isSignedIn = useSelector(state => state.auth.isSignedIn)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const payload = { \r\n      \"title\": title,\r\n      \"desc\": desc,\r\n      \"img_url\": imgurl,\r\n      \"img_path\": pathimg,\r\n      \"date_time\":date_time\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchStream(props.match.params.key));\r\n        checklogin();// eslint-disable-next-line\r\n    }, []);\r\n\r\n    const checklogin = () => {\r\n      if (isSignedIn){\r\n          console.log(\"Login\",true,window.location.pathname);\r\n      }else{\r\n          console.log(\"Login\",false,window.location.pathname)\r\n          props.history.push(\"/\");\r\n      }\r\n  }\r\n\r\n    const handleSave = () => {\r\n      if (imgurl && title && desc) {\r\n        dispatch(editStream(props.match.params.key,payload))\r\n        \r\n      }else{\r\n        alert(\"Saving Failed | need to add all input form.\");\r\n      }\r\n    };\r\n    \r\n    const handleCancel = () => { window.location.replace(\"/studio\") }\r\n\r\n    const handleUpload = (e) => {\r\n      storage.ref(stream.img_path).delete();\r\n      setImg(e.target.files[0]);\r\n      let pre_img = document.getElementById(\"pre-img\");\r\n      pre_img.src = uploadimg;\r\n    };\r\n\r\n    if (img){\r\n      console.log(img);\r\n      setPathimg(`images/${img.name}`);\r\n      const uploadTask = storage.ref(`images/${img.name}`).put(img);\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        snapshot => {console.log(\"Uploading...\", `${snapshot.bytesTransferred} bytes`);},\r\n        error => {console.log(error);},\r\n        () => {\r\n          storage.ref(\"images\").child(img.name).getDownloadURL().then(url => {\r\n              setImgurl(url);\r\n              let pre_img = document.getElementById(\"pre-img\");\r\n              pre_img.src = url;\r\n            })\r\n        }\r\n        )\r\n      setImg(null);\r\n    }else{}\r\n    \r\n      return stream?<div className=\"addboard\" >\r\n      <br/>\r\n      {/* eslint-disable-next-line*/}\r\n      <img className=\"img-upload\" id=\"pre-img\" src={stream.img_url}/>\r\n      <br/>\r\n      <div className=\"req form__group field\">\r\n       <input type=\"file\" className=\"form__field upload-in\" accept=\"image/*\" onChange={handleUpload}/>\r\n       </div>\r\n       <br/>\r\n      <div className=\"req form__group field\">\r\n       <input type=\"input\" className=\"form__field\" placeholder=\"Name\" onChange={(e) => setTitle(e.target.value)} required  />\r\n       <label htmlFor=\"name\" className=\"form__label\">Title</label>\r\n       </div>\r\n       <br/>\r\n       <div className=\"req form__group field\">\r\n       <textarea className=\"form__field desc_form\" placeholder={stream.desc} onChange={(e) => setDesc(e.target.value)} required/>\r\n       <label htmlor=\"name\" className=\"form__label\">Description</label>\r\n       </div>\r\n       <br/><br/><br/><br/>\r\n       <div className=\"req form__group field\" id=\"in-key-edit\">\r\n       <input type=\"input\" className=\"form__field1\" placeholder=\"Name\" id=\"keys\" disabled value={stream.key}/>\r\n       <label htmlFor=\"name\" className=\"form__label\">Stream Key</label>\r\n       </div>\r\n       <div id=\"bt-edform\"><button className=\"bt-Cancel\" onClick={handleCancel}>Cancel</button>\r\n       <button className=\"bt-Save\" onClick={handleSave}>Save</button></div>\r\n       <br/>\r\n  </div>:(<div></div>);\r\n  }\r\n  \r\n  export default EditStream;","import React , {useEffect, useState} from 'react';\r\nimport { useDispatch ,useSelector} from 'react-redux';\r\nimport { fetchStreams } from '../../actions';\r\nimport StreamItem from '../streamitem';\r\n\r\nfunction SearchStream(props){\r\n    const streams = useSelector(state => Object.values(state.stream))\r\n    const dispatch = useDispatch();\r\n    const [keyword, setKeyword] = useState(\"\");\r\n    const [searchlist, setSearchlist] = useState([]);\r\n    // eslint-disable-next-line\r\n    useEffect(() => {dispatch(fetchStreams()); return () => {};}, []);\r\n    \r\n    const handleSearch = () => {\r\n        document.getElementById(\"default-cards\").style.display = \"none\";\r\n        document.getElementById(\"search-cards\").style.display = \"flex\";\r\n        setSearchlist(streams.filter((s)=>{return s.title.toLowerCase().includes(keyword.toLowerCase())}))\r\n    }\r\n    \r\n    return (<div>\r\n                <div className=\"console-bar-sign-out\" >\r\n                    <input type=\"text\" className=\"search\" name=\"search\" onChange={(e) => {setKeyword(e.target.value)}}/>\r\n                    <button className=\"search-bt\" onClick={handleSearch}>Search</button>\r\n                </div>\r\n                <ul className=\"cards\" id=\"default-cards\">\r\n                    {streams.slice(0).reverse().map( (s) => <li className=\"zoomincard\" key={s.key} ><StreamItem stream={s} /></li> )}\r\n                </ul>\r\n                <ul className=\"cards\" id=\"search-cards\">\r\n                    {searchlist.slice(0).reverse().map( (s) => <li className=\"zoomincard\" key={s.key} ><StreamItem stream={s} /></li> )}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n\r\nexport default SearchStream;","import React ,{ createRef ,useEffect} from 'react';\r\nimport { useSelector , useDispatch} from 'react-redux'\r\nimport { fetchStream } from './../../actions';\r\nimport flv from 'flv.js';\r\n\r\nfunction PlayStream(props) {\r\n\r\n    const stream = useSelector(state => state.stream[props.match.params.key]);\r\n    const videoRef = createRef();\r\n    const dispatch = useDispatch();\r\n    var player = null;\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchStream(props.match.params.key));\r\n        buildPlayer();\r\n        return () => {\r\n            player.destroy();\r\n        }// eslint-disable-next-line\r\n    },[])\r\n\r\n    useEffect(() =>{\r\n        buildPlayer();\r\n    })\r\n\r\n    const buildPlayer = () => {\r\n        const key = props.match.params.key;\r\n        if (flv.isSupported() && stream && stream.video_url) {\r\n            player = flv.createPlayer({\r\n                type: 'mp4',\r\n                url: `${stream.video_url}`\r\n            });\r\n            player.attachMediaElement(videoRef.current);\r\n            player.load();\r\n        }else if (flv.isSupported() && stream){\r\n            player = flv.createPlayer({\r\n                type: 'flv',\r\n                url: `https://4d2b-184-82-186-178.ap.ngrok.io/live/${key}.flv`\r\n            });\r\n            player.attachMediaElement(videoRef.current);\r\n            player.load();\r\n        }\r\n    }\r\n\r\n\r\n    return !stream?\r\n            <div></div>\r\n            :(<div>\r\n                <video ref={videoRef} className=\"streamPlayer\" controls></video>\r\n                <div className=\"playerDesc\">\r\n                    <h1>{stream.title}</h1>\r\n                    <h4>{stream.desc}</h4>\r\n                    <h6>Stream by {stream.streamer}</h6>\r\n                    <h6>Stream at {stream.date_time}</h6>\r\n                </div>\r\n            </div>);\r\n}\r\n\r\nexport default PlayStream;","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport history from \"./history\";\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport addform from \"./components/pages/addStream\";\r\nimport index from \"./components/pages/listStream\";\r\nimport studio from \"./components/pages/studioStream\";\r\nimport editform from \"./components/pages/editStream\";\r\nimport search from \"./components/pages/searchStream\";\r\nimport player from \"./components/pages/playStream\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router history={history}>\r\n      <div id=\"container\">\r\n        <Header />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={index}/>\r\n            <Route path=\"/search-stream\" component={search}/>\r\n            <Route path=\"/create-stream\" component={addform}/>\r\n            <Route path=\"/studio\" exact component={studio}/>\r\n            <Route path=\"/studio/edit/:key\" component={editform}/>\r\n            <Route path=\"/play-stream/:key\" component={player}/>\r\n          </Switch>\r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import ACTIONS from '../actions/constants';\r\n\r\nconst INITIAL_STATE = {\r\n    isSignedIn: null,\r\n    profile: null\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n        case ACTIONS.SIGN_IN:\r\n            return { ...state, isSignedIn: true, profile: action.payload }\r\n        case ACTIONS.SIGN_OUT:\r\n            return { ...state, isSignedIn: false, profile: null }\r\n        default:\r\n            return state;\r\n    }\r\n}","import ACTIONS from '../actions/constants';\r\nimport _ from 'lodash';\r\n\r\n\r\nconst INITIAL_STATE = {}\r\n// eslint-disable-next-line\r\nexport default (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n        case ACTIONS.FETCH_STREAMS: ;\r\n            return { ...state, ..._.map(action.payload) }\r\n        case ACTIONS.CREATE_STREAM:\r\n            return { ...state, [action.payload.key]: action.payload };\r\n        case ACTIONS.FETCH_STREAM:\r\n            return { ...state, [action.payload.key]: action.payload };\r\n        case ACTIONS.EDIT_STREAM:\r\n            return { ...state, [action.payload.key]: action.payload };\r\n        case ACTIONS.DELETE_STREAM:\r\n            return _.omit(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport { reducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport streamReducer from './streamReducer';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    form: reducer,\r\n    stream: streamReducer\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport \"./uicon.css\";\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport reducers from './reducers';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\nconst store = createStore(\r\n    reducers,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n);\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}